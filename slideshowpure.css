/*
 * Jellyfin-Media-Bar V4.0.0
 */

@import url(https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,400..700;1,400..700&display=swap);

:root {
  --theme-background-color: #181818;
  --theme-text-color: #eee;
  --button-bg-subtle: rgba(255, 255, 255, 0.1);
  --button-bg-subtle-hover: rgba(255, 255, 255, 0.16);
  --button-bg-play: rgba(255, 255, 255, 0.3);
  --theme-roundness: 0.5rem;
  --font-weight-normal: 400;
  --button-icon-only-size: 3.125rem;
  --button-play-padding: 0.5rem 1rem;
  --display-tomato-rating: none;
  --display-age-rating: none;
  --display-imdb-logo: none;
  --display-star-rating: none;
  --display-critic-rating: none;
}

/* 2. Global & Base Styles */
.slide,
.slide * {
  text-shadow: 0 0px 3px rgba(0, 0, 0, 2);
}

.preload { background-color: var(--theme-background-color); }
.featured-content { display: none !important; }

/* 3. Animations */
@keyframes scroll-vertical {
  0%, 10% { transform: translateY(0); }
  40%, 90% { transform: translateY(var(--scroll-amount)); }
  100% { transform: translateY(0); }
}
@keyframes frostedGlass {
  from { filter: blur(8px); opacity: 0.7; }
  to { filter: blur(0); opacity: 1; }
}
@keyframes kenBurnsZoomIn {
  from { transform: scale(1); }
  to { transform: scale(1.1); }
}

/* 4. Layout Containers */
.homeSectionsContainer { position: relative; top: 65vh; z-index: 6; }
.marquee-vertical { position: relative; overflow: hidden; height: 100%; }
.marquee-inner { display: inline-block; white-space: normal; will-change: transform; }

/* 5. Slide & Backdrop */
.slide {
  opacity: 0; position: absolute; top: 0; left: 0;
  width: 100%; height: 100%;
  transition: opacity 0.5s ease-in-out; z-index: 0;
}
.slide.active { opacity: 1; z-index: 1; }
.slide.active.slideshow-paused .backdrop.animate { animation-play-state: paused; }

.backdrop-container {
  position: absolute; top: 0; right: 0; width: 100%; height: 91%;
  mask-image: linear-gradient(to top, #fff0 2%, rgb(0 0 0 / 0.5) 6%, #000 8%);
  -webkit-mask-image: linear-gradient(to top, #fff0 2%, rgb(0 0 0 / 0.5) 6%, #000 8%);
}
.backdrop {
  right: 0; width: 100%; height: 100%; object-fit: cover; object-position: center 20%;
  border-radius: 5px; z-index: 3;
  mask-image: linear-gradient(to top, #fff0 2%, rgb(0 0 0 / 0.5) 6%, #000 8%);
  -webkit-mask-image: linear-gradient(to top, #fff0 2%, rgb(0 0 0 / 0.5) 6%, #000 8%);
}
.backdrop.low-quality { filter: blur(0.5px); transform: scale(1.01); transition: filter 0.3s, transform 0.3s; }
.backdrop.high-quality { filter: blur(0); transform: scale(1); transition: filter 0.3s, transform 0.3s; }
.backdrop.animate { animation: frostedGlass 1.2s cubic-bezier(0.4,0,0.2,1), kenBurnsZoomIn 10s ease-out forwards; }

.backdrop-overlay,
.gradient-overlay {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 4;
  mask-image: linear-gradient(to top, #fff0 2%, rgb(0 0 0 / 0.5) 4%, #000 6%);
  -webkit-mask-image: linear-gradient(to top, #fff0 2%, rgb(0 0 0 / 0.5) 4%, #000 6%);
}
.backdrop-overlay { background-color: rgba(0,0,0,0.2); border-radius: 5px; }
.gradient-overlay {
  background: linear-gradient(130deg, rgba(29,29,29,0.65) 10%, rgba(29,29,29,0.35) 30%, rgba(29,29,29,0) 100%);
}

/* 6. Logo & Text */
.logo-container {
  width: 40%; height: 35%; position: absolute; display: flex; align-items: center;
  z-index: 5; bottom: calc(50% + 1vh); left: 4vw;
}
.logo {
  max-height: 70%; max-width: 100%; position: absolute; bottom: 7vh; height: auto; width: auto;
  object-fit: contain; filter: brightness(1.5); transition: filter 0.3s;
}
.logo.low-quality { filter: brightness(1) blur(0.5px); }
.logo.high-quality { filter: brightness(1.1) blur(0); }
.logo.animate { animation: frostedGlass 1.2s cubic-bezier(0.4,0,0.2,1); }

.slide-title {
  position: absolute; display: flex; top: calc(50% - 5vh); left: 4vw; margin: 0; padding: 0;
  color: #fff; font-size: 2.5rem; font-weight: 700; z-index: 5; white-space: nowrap;
  overflow: hidden; text-overflow: ellipsis; max-width: 90%;
}
.plot-container {
  position: absolute; top: calc(50% + 6vh); left: 4vw; width: 90%; height: 15%; color: #fff;
  z-index: 5; display: flex; align-items: flex-start; text-align: justify; box-sizing: border-box;
}
.plot {
  -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
  mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden; white-space: nowrap; position: relative; color: #fff;
}
.plot a { color: pink; }
.plot a:hover, .plot a:active { opacity: 0.8; color: #fff; }
.genre {
  position: absolute; top: calc(50% + 4vh); left: 4vw; color: #fff; font-family: "Rubik", sans-serif;
  z-index: 5; font-weight: 500; text-align: center;
}

/* 7. Buttons */
.button-container {
  position: absolute; top: calc(50% + 17vh); left: 4vw; display: flex; z-index: 5; gap: 15px;
}
.button-container button {
  display: inline-flex; align-items: center; justify-content: center;
  border-radius: var(--theme-roundness); background-color: var(--button-bg-subtle);
  color: var(--theme-text-color); border: none; transition: background-color 0.2s;
}
.play-button {
  padding: var(--button-play-padding); font-family: "Rubik", sans-serif; font-size: 18px; font-weight: 700;
  cursor: pointer; gap: 6px; background-color: var(--button-bg-play) !important;
  border-radius: var(--theme-roundness) !important;
}
.detail-button, .favorite-button {
  font-size: 18px; border-radius: 50%; height: 50px; width: 50px; cursor: pointer;
}
.favorite-button.favorited { color: red; }

.play-button::before { content: "play_arrow"; }
.detail-button::before { content: "info"; }
.favorite-button::before { content: "favorite_outline"; }
.favorite-button.favorited::before { content: "favorite"; }

/* Slideshow Pause Button */
#slideshow-pause-button {
  position: absolute; top: calc(50% + 18vh); right: calc(2.5% + 65px);
  background-color: rgba(255,255,255,0.1); color: white;
  border: none; border-radius: var(--theme-roundness);
  width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;
}
#slideshow-pause-button:hover { background-color: rgba(0, 0, 0, 0.8); }

/* 8. Dots & Navigation Arrows */
.arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  cursor: pointer; color: #fff; display: flex; justify-content: center; align-items: center;
}
.left-arrow { left: 20px; }
.right-arrow { right: 20px; }

.dots-container {
  position: absolute; top: calc(50% + 18vh); right: 3%; display: flex;
}
.dot {
  width: 8px; height: 8px; margin: 0 5px; background-color: #CCC; border-radius: 50%;
  cursor: pointer; transition: transform 0.03s, background-color 0.03s;
}
.dot.active { background-color: #F0F0F0; transform: scale(1.7); }

/* 9. Info Bar */
.info-container {
  position: absolute; top: calc(50% + 0vh); left: 4vw; display: flex; align-items: center; color: #fff;
}
.rating-value, .runTime, .date { font-family: "Rubik", sans-serif; font-weight: 500; display: flex; align-items: center; }
.age-rating {
  display: var(--display-age-rating) !important; background: rgb(255 255 255 / 0.8);
  color: #000; border-radius: 5px; padding: 0 0.5em;
}

/* 10. Loading Screen */
.bar-loading {
  z-index: 99999999 !important; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
  background-color: #000; display: flex; align-items: center; justify-content: center;
}
.loader-content { display: flex; flex-direction: column; align-items: center; gap: 20px; width: 250px; }
.progress-container { width: 200px; height: 6px; display: flex; position: relative; }
.progress-bar { height: 5px; background: white; border-radius: 2px; transition: width 0.2s; }
.unfilled-bar { height: 5px; background: #686868; border-radius: 2px; flex-grow: 1; }

/* 11. Media Queries */
/* Landscape Phones */
@media only screen and (max-height: 767px) and (orientation: landscape) { ... }

/* Portrait Phones/Tablets */
@media only screen and (max-width: 767px) and (orientation: portrait) { ... }
